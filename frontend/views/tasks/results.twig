{{ set(this, 'title', "Tasks Results") }}
<div class="container mt-5">

    <div class="row">
        <div class="col-md-12">
            <h1 class="text-center">Tasks Results</h1>
        </div>
    </div>

    <div class="row">
        {% for result in results %}
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">{{ result.task.title }}</h5>
                    <p class="card-text">Attempted on: {{ result.created_at|date('Y-m-d H:i:s') }}</p>
                    {% if result.task.results_visibility == 1 %}
                        {% if result.grade == NULL %}
                            <p class="card-text">Grade: <span class="badge badge-warning" data-bs-toggle="tooltip" data-bs-placement="top"
                                                               title="Grade is not available yet">
                                        Not Graded</span></p>
                        {% else %}
                        <p class="card-text">Grade: {{ result.grade }}</p>
                        {% endif %}
                    {% else %}
                        <p class="card-text">Grade: <span class="badge badge-danger" data-bs-toggle="tooltip" data-bs-placement="top"
                                                           title="Grade is not going to be shown">
                                        REDACTED</span></p>
                    {% endif %}
                    {% if result.teacher_comment != NULL %}
                        <p class="card-text">Teacher's Comment: {{ result.teacher_comment }}</p>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>